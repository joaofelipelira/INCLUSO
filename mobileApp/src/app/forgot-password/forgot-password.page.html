<ion-content [fullscreen]="true">
  
  <div class="decorative-circle"></div>

  <div class="back-button-container">
    <ion-button fill="clear" (click)="goBack()" class="back-btn">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-button>
  </div>

  <div class="container">
    
    <div class="header">
      <div class="logo">
        <img src="assets/icon/logo.png" alt="Logo Inclus">
      </div>
      <h1 class="title">Esqueceu a senha?</h1>
      <p class="subtitle" *ngIf="!isSent">
        Não se preocupe! Insira seu e-mail cadastrado e enviaremos instruções para você.
      </p>
    </div>

    <div class="form-area" *ngIf="!isSent">
      <div class="input-wrapper">
        <ion-item lines="none" class="custom-item">
          <ion-icon name="mail-outline" slot="start" class="input-icon"></ion-icon>
          <ion-input
            placeholder="Digite seu e-mail"
            type="email"
            mode="md"
            [(ngModel)]="email">
          </ion-input>
        </ion-item>
        
        <div class="error-message" *ngIf="email && !isValidEmail">
          <ion-icon name="alert-circle-outline"></ion-icon>
          <span>E-mail inválido</span>
        </div>
      </div>

      <ion-button 
        expand="block" 
        class="action-btn" 
        [disabled]="!isValidEmail"
        (click)="onRecover()">
        Enviar Link de Recuperação
      </ion-button>

      <div class="back-link">
        <span (click)="goBack()">Voltar para o Login</span>
      </div>
    </div>

    <div class="success-area" *ngIf="isSent">
      <div class="icon-circle">
        <ion-icon name="checkmark-outline"></ion-icon>
      </div>
      <h3>E-mail Enviado!</h3>
      <p>Verifique sua caixa de entrada em <strong>{{ email }}</strong> e siga as instruções para redefinir sua senha.</p>
      
      <ion-button expand="block" class="action-btn" (click)="goBack()">
        Voltar para Login
      </ion-button>
      
      <div class="resend-link">
        <p>Não recebeu? <span (click)="onRecover()">Reenviar</span></p>
      </div>
    </div>

  </div>
</ion-content>